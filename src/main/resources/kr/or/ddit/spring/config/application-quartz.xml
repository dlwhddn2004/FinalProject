<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:p="http://www.springframework.org/schema/p"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.2.xsd">

	<!-- 
		- 쿼츠 : SchedulerFactory - 쿼츠 스케줄러 시작, 일시정지, 재시작, 완전 종료의 제어
								     최초 인스턴스화 처리시 스케줄러 자동 시작
			    Trigger - 스케줄링(CronExcepression 활용)
			    Job		- 선언된 스케줄링에 따라 실행되어야하는 비지니스 로직을 포함하는 클래스					     
	 -->
	 <bean id="timeCheckJob" class="org.springframework.scheduling.quartz.JobDetailBean"
	 	p:jobClass="kr.or.ddit.quartz.job.TimeCheckJob">
	 </bean>
	 
<!-- 	 트리거를 위한 빈등록  0/5 == 5 초마다 -->
	<bean id="timeCheckTrigger" class="org.springframework.scheduling.quartz.CronTriggerFactoryBean"
		p:jobDetail-ref="timeCheckJob"
		p:cronExpression="0/5 * * * * ?">
	</bean>
	
<!-- 	5초마다 timeCheckJob에 있는 executeInternal가 무수히 콜백 된다. 근데 이럴경우 계쏙 콜백되기때문에 제어하는 스케줄러가 필요 -->
<!-- 		여러개로 설정하면 property -->
	<bean id="schedulerFactory" class="org.springframework.scheduling.quartz.SchedulerFactoryBean">
		<property name="triggers">
			<list>
				<ref bean="timeCheckTrigger" />
			</list>
		</property>
		<property name="autoStartup" value="false"></property>
	</bean>
</beans>




