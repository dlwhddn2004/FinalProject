<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap      
    PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"      
    "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="reviewboard">
	<typeAlias alias="ReviewBoardVO" type="kr.or.ddit.vo.ReviewBoardVO" />
	
	<sql id="selectAll">
		select b.*
		from (
		         select rownum r,
		                review_no,
		                mem_id,
		                review_title,
		                review_content,
		                TO_CHAR(review_regdate, 'YYYY-MM-DD') review_regdate,
		                review_hit
		         from (
		                  SELECT *
		                  FROM REVIEW_BOARD) a
		     ) b
	</sql>
	
	<select id="reviewboardList" resultClass="ReviewBoardVO">
		<include refid="selectAll"/>
	</select>
<!-- 		select review_board.*, project.project_no -->
<!-- 		from review_board -->
<!-- 		left join project -->
<!-- 		on review_board.project_no = project.project_no -->

	<insert id="insertReviewboard" parameterClass="ReviewBoardVO">
		INSERT INTO REVIEW_BOARD (REVIEW_NO,
									MEM_ID,
									REVIEW_TITLE,
									REVIEW_CONTENT,
									REVIEW_REGDATE,
									REVIEW_HIT,
									REVIEW_SCORE)
		VALUES (REVIEWBOARD_SEQ.nextval,
				#mem_id#,
				#review_title#,
				#review_content#,
				SYSDATE,
				#review_hit#,
				#review_score#)
	</insert>

</sqlMap>

 


