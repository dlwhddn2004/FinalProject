<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap      
    PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"      
    "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="projectRegist">
	<typeAlias alias="ProjectVO" type="kr.or.ddit.vo.ProjectVO" />
	<typeAlias alias="Project_ProjectParticipantsVO" type="kr.or.ddit.vo.Project_ProjectParticipantsVO" />
	
<!-- 	project_1 -->
	<insert id="insertProjectInfo" parameterClass="map" >
		<selectKey keyProperty="project_no" resultClass="String">
			SELECT PROJECT_SEQ.nextval
			FROM DUAL
		</selectKey>
	INSERT INTO PROJECT
		(
			PROJECT_NO,
			MEM_ID,
			PROJECT_CLIENTINFORMATION,
			PROJECT_CLIENTINTRODUCE,
			PROJECT_PROCESSSTATUS,
			PROJECT_PROCESSCATEGORY,
			PROJECT_TITLE,
			PROJECT_REGISTDATE		
		)
	VALUES
		(
			#project_no#,
			#mem_id#,
			#project_clientinformation#,
			#project_clientintroduce#,
			#project_processstatus#,
			#project_processcategory#,
			#project_title#,
			SYSDATE					
		)
	</insert>
	
<!-- 	project_2 -->
	<update id="insertProjectReady" parameterClass="map">
		UPDATE PROJECT SET 
			PROJECT_READYSTATUS = #project_readystatus#,
			PROJECT_REFERENCE = #project_reference#
		WHERE 
			PROJECT_NO = #project_no#
	</update>
	
</sqlMap>

 


